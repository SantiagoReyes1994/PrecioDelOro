<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 3 Avance 4 | Precio Del Oro</title>
  <meta name="description" content="Capítulo 3 Avance 4 | Precio Del Oro" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 3 Avance 4 | Precio Del Oro" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 3 Avance 4 | Precio Del Oro" />
  
  
  

<meta name="author" content="Grupo 2: Santiago Reyes, Francisco Santos, Fabian Maldonado" />


<meta name="date" content="2024-06-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="propuesta-avance-2-3.html"/>
<link rel="next" href="avance-5-arima.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Precio del Oro</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> DATA SET SELECCIONADO</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#nombre-daily-gold-price-2014-2022-time-series-en-kaggle"><i class="fa fa-check"></i><b>1.1</b> NOMBRE: Daily Gold Price (2014-2022) Time Series en Kaggle</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#descripción"><i class="fa fa-check"></i><b>1.2</b> DESCRIPCIÓN:</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#rango-de-fechas01012014-05082022"><i class="fa fa-check"></i><b>1.3</b> RANGO DE FECHAS:01/01/2014-05/08/2022</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#registros-2.227"><i class="fa fa-check"></i><b>1.4</b> REGISTROS: 2.227</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#variables"><i class="fa fa-check"></i><b>1.5</b> VARIABLES:</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#importancia"><i class="fa fa-check"></i><b>1.6</b> IMPORTANCIA:</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="index.html"><a href="index.html#relevancia-económica"><i class="fa fa-check"></i><b>1.6.1</b> <strong>Relevancia económica</strong>:</a></li>
<li class="chapter" data-level="1.6.2" data-path="index.html"><a href="index.html#análisis-de-tendencias"><i class="fa fa-check"></i><b>1.6.2</b> <strong>Análisis de tendencias</strong>:</a></li>
<li class="chapter" data-level="1.6.3" data-path="index.html"><a href="index.html#modelos-de-predicción"><i class="fa fa-check"></i><b>1.6.3</b> <strong>Modelos de predicción</strong>:</a></li>
<li class="chapter" data-level="1.6.4" data-path="index.html"><a href="index.html#investigación-académica"><i class="fa fa-check"></i><b>1.6.4</b> <strong>Investigación académica</strong>:</a></li>
<li class="chapter" data-level="1.6.5" data-path="index.html"><a href="index.html#granularidad-diaria"><i class="fa fa-check"></i><b>1.6.5</b> <strong>Granularidad diaria</strong>:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html"><i class="fa fa-check"></i><b>2</b> Propuesta Avance 2 &amp; 3</a>
<ul>
<li class="chapter" data-level="2.1" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#cargar-librerias-a-usar"><i class="fa fa-check"></i><b>2.1</b> Cargar Librerias a usar</a></li>
<li class="chapter" data-level="2.2" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#cargar-la-data-del-data-set"><i class="fa fa-check"></i><b>2.2</b> Cargar la data del Data set</a></li>
<li class="chapter" data-level="2.3" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#limpieza-de-datos"><i class="fa fa-check"></i><b>2.3</b> Limpieza de Datos</a></li>
<li class="chapter" data-level="2.4" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#padding-imputation"><i class="fa fa-check"></i><b>2.4</b> Padding &amp; imputation</a></li>
<li class="chapter" data-level="2.5" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#exploración-de-la-data"><i class="fa fa-check"></i><b>2.5</b> Exploración de la data</a></li>
<li class="chapter" data-level="2.6" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#descomposición-de-la-serie-temporal"><i class="fa fa-check"></i><b>2.6</b> Descomposición de la Serie Temporal</a></li>
<li class="chapter" data-level="2.7" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#análisis-de-estacionalidad"><i class="fa fa-check"></i><b>2.7</b> Análisis de estacionalidad</a></li>
<li class="chapter" data-level="2.8" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#análisis-de-diferenciación"><i class="fa fa-check"></i><b>2.8</b> Análisis de Diferenciación</a></li>
<li class="chapter" data-level="2.9" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#transformación-para-controlar-la-tendencia-y-variabilidad"><i class="fa fa-check"></i><b>2.9</b> Transformación para Controlar la Tendencia y Variabilidad</a></li>
<li class="chapter" data-level="2.10" data-path="propuesta-avance-2-3.html"><a href="propuesta-avance-2-3.html#justificación"><i class="fa fa-check"></i><b>2.10</b> Justificación</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="avance-4.html"><a href="avance-4.html"><i class="fa fa-check"></i><b>3</b> Avance 4</a>
<ul>
<li class="chapter" data-level="3.1" data-path="avance-4.html"><a href="avance-4.html#método-de-holt-winters"><i class="fa fa-check"></i><b>3.1</b> Método de Holt-Winters:</a></li>
<li class="chapter" data-level="3.2" data-path="avance-4.html"><a href="avance-4.html#suavizamiento-exponencial"><i class="fa fa-check"></i><b>3.2</b> Suavizamiento Exponencial:</a></li>
<li class="chapter" data-level="3.3" data-path="avance-4.html"><a href="avance-4.html#pronóstico"><i class="fa fa-check"></i><b>3.3</b> Pronóstico:</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="avance-4.html"><a href="avance-4.html#suavizamiento-exponencial-1"><i class="fa fa-check"></i><b>3.3.1</b> Suavizamiento Exponencial:</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="avance-4.html"><a href="avance-4.html#visualización"><i class="fa fa-check"></i><b>3.4</b> Visualización:</a></li>
<li class="chapter" data-level="3.5" data-path="avance-4.html"><a href="avance-4.html#calculando-las-métricas-para-el-suavizamiento-exponencial"><i class="fa fa-check"></i><b>3.5</b> Calculando las métricas para el suavizamiento exponencial</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="avance-5-arima.html"><a href="avance-5-arima.html"><i class="fa fa-check"></i><b>4</b> Avance 5 ARIMA</a>
<ul>
<li class="chapter" data-level="4.1" data-path="avance-5-arima.html"><a href="avance-5-arima.html#pronóstico-con-modelo-arima"><i class="fa fa-check"></i><b>4.1</b> Pronóstico Con Modelo Arima</a></li>
<li class="chapter" data-level="4.2" data-path="avance-5-arima.html"><a href="avance-5-arima.html#evaluación-del-modelo"><i class="fa fa-check"></i><b>4.2</b> Evaluación del Modelo</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="avance-5-arima.html"><a href="avance-5-arima.html#no-autocorrelación"><i class="fa fa-check"></i><b>4.2.1</b> No Autocorrelación</a></li>
<li class="chapter" data-level="4.2.2" data-path="avance-5-arima.html"><a href="avance-5-arima.html#normalidad"><i class="fa fa-check"></i><b>4.2.2</b> Normalidad</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Precio Del Oro</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="avance-4" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Capítulo 3</span> Avance 4<a href="avance-4.html#avance-4" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="método-de-holt-winters" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Método de Holt-Winters:<a href="avance-4.html#método-de-holt-winters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>El método de Holt-Winters es una técnica de suavizado exponencial que se utiliza comúnmente para pronosticar datos de series de tiempo. Se compone de tres componentes: nivel, tendencia y estacionalidad.</p>
</div>
<div id="suavizamiento-exponencial" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Suavizamiento Exponencial:<a href="avance-4.html#suavizamiento-exponencial" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Primero, aplicaremos el suavizamiento exponencial simple para suavizar la serie de tiempo y estimar los valores de nivel, tendencia y estacionalidad</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="avance-4.html#cb37-1" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb37-2"><a href="avance-4.html#cb37-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb37-3"><a href="avance-4.html#cb37-3" tabindex="-1"></a></span>
<span id="cb37-4"><a href="avance-4.html#cb37-4" tabindex="-1"></a><span class="co"># Cargar los datos</span></span>
<span id="cb37-5"><a href="avance-4.html#cb37-5" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Gold Price.csv&quot;</span>)</span>
<span id="cb37-6"><a href="avance-4.html#cb37-6" tabindex="-1"></a></span>
<span id="cb37-7"><a href="avance-4.html#cb37-7" tabindex="-1"></a><span class="co"># Convertir la columna &quot;Date&quot; en formato de fecha</span></span>
<span id="cb37-8"><a href="avance-4.html#cb37-8" tabindex="-1"></a>data<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(data<span class="sc">$</span>Date)</span>
<span id="cb37-9"><a href="avance-4.html#cb37-9" tabindex="-1"></a></span>
<span id="cb37-10"><a href="avance-4.html#cb37-10" tabindex="-1"></a><span class="co"># Crear la serie temporal</span></span>
<span id="cb37-11"><a href="avance-4.html#cb37-11" tabindex="-1"></a>data_ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(data<span class="sc">$</span>Price, <span class="at">start =</span> <span class="fu">c</span>(<span class="dv">2015</span>, <span class="dv">1</span>), <span class="at">frequency =</span> <span class="dv">12</span>)</span></code></pre></div>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="avance-4.html#cb38-1" tabindex="-1"></a>hw_model <span class="ot">&lt;-</span> <span class="fu">HoltWinters</span>(data_ts)</span></code></pre></div>
</div>
<div id="pronóstico" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Pronóstico:<a href="avance-4.html#pronóstico" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Luego, utilizaremos el modelo Holt-Winters para hacer pronósticos futuros. en un 12 meses</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="avance-4.html#cb39-1" tabindex="-1"></a><span class="co"># Pronóstico</span></span>
<span id="cb39-2"><a href="avance-4.html#cb39-2" tabindex="-1"></a>hw_forecast <span class="ot">&lt;-</span> <span class="fu">forecast</span>(hw_model, <span class="at">h =</span> <span class="dv">12</span>)  <span class="co"># Pronosticar los próximos 12 meses</span></span></code></pre></div>
<div id="suavizamiento-exponencial-1" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Suavizamiento Exponencial:<a href="avance-4.html#suavizamiento-exponencial-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Además, aplicaremos el suavizamiento exponencial simple para obtener una versión suavizada de la serie de tiempo.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="avance-4.html#cb40-1" tabindex="-1"></a>exp_smooth <span class="ot">&lt;-</span> <span class="fu">HoltWinters</span>(data_ts, <span class="at">beta =</span> <span class="cn">FALSE</span>, <span class="at">gamma =</span> <span class="cn">FALSE</span>)</span>
<span id="cb40-2"><a href="avance-4.html#cb40-2" tabindex="-1"></a>smoothed_data <span class="ot">&lt;-</span> forecast<span class="sc">:::</span><span class="fu">forecast.HoltWinters</span>(exp_smooth, <span class="at">h =</span> <span class="fu">length</span>(data_ts))</span></code></pre></div>
</div>
</div>
<div id="visualización" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Visualización:<a href="avance-4.html#visualización" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Finalmente, visualizaremos los resultados del método de Holt-Winters y del suavizamiento exponencial.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="avance-4.html#cb41-1" tabindex="-1"></a><span class="fu">autoplot</span>(hw_forecast) <span class="sc">+</span></span>
<span id="cb41-2"><a href="avance-4.html#cb41-2" tabindex="-1"></a>  <span class="fu">autolayer</span>(data_ts, <span class="at">series =</span> <span class="st">&quot;Precio Oro&quot;</span>) <span class="sc">+</span></span>
<span id="cb41-3"><a href="avance-4.html#cb41-3" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Año&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Precio&quot;</span>) <span class="sc">+</span></span>
<span id="cb41-4"><a href="avance-4.html#cb41-4" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Pronóstico del Precio del Oro con Holt-Winters&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="avance-4.html#cb42-1" tabindex="-1"></a><span class="co"># Visualización de suavizamiento exponencial</span></span>
<span id="cb42-2"><a href="avance-4.html#cb42-2" tabindex="-1"></a><span class="fu">autoplot</span>(smoothed_data) <span class="sc">+</span></span>
<span id="cb42-3"><a href="avance-4.html#cb42-3" tabindex="-1"></a>  <span class="fu">autolayer</span>(data_ts, <span class="at">series =</span> <span class="st">&quot;Precio Oro&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-4"><a href="avance-4.html#cb42-4" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Año&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;Precio&quot;</span>) <span class="sc">+</span></span>
<span id="cb42-5"><a href="avance-4.html#cb42-5" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Suavizamiento Exponencial del Precio del Oro&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-35-2.png" width="672" />
## Calculando las métricas para el método de Holt-Winters</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="avance-4.html#cb43-1" tabindex="-1"></a>hw_accuracy <span class="ot">&lt;-</span> <span class="fu">accuracy</span>(hw_forecast)</span>
<span id="cb43-2"><a href="avance-4.html#cb43-2" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Métricas para Holt-Winters:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Métricas para Holt-Winters:&quot;</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="avance-4.html#cb45-1" tabindex="-1"></a><span class="fu">print</span>(hw_accuracy)</span></code></pre></div>
<pre><code>##                     ME     RMSE      MAE         MPE      MAPE      MASE       ACF1
## Training set -4.547451 330.3763 226.7895 -0.02156372 0.6362722 0.2941997 0.02910049</code></pre>
</div>
<div id="calculando-las-métricas-para-el-suavizamiento-exponencial" class="section level2 hasAnchor" number="3.5">
<h2><span class="header-section-number">3.5</span> Calculando las métricas para el suavizamiento exponencial<a href="avance-4.html#calculando-las-métricas-para-el-suavizamiento-exponencial" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="avance-4.html#cb47-1" tabindex="-1"></a>smoothed_accuracy <span class="ot">&lt;-</span> <span class="fu">accuracy</span>(smoothed_data)</span>
<span id="cb47-2"><a href="avance-4.html#cb47-2" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Métricas para Suavizamiento Exponencial:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Métricas para Suavizamiento Exponencial:&quot;</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="avance-4.html#cb49-1" tabindex="-1"></a><span class="fu">print</span>(smoothed_accuracy)</span></code></pre></div>
<pre><code>##                    ME     RMSE      MAE        MPE      MAPE      MASE         ACF1
## Training set 10.41807 322.2341 217.4095 0.02246437 0.6065303 0.2820317 -0.002075383</code></pre>
<p>Los resultados de las métricas proporcionan una comparación entre el método de Holt-Winters y el suavizamiento exponencial en términos de su desempeño en la serie temporal de precios del oro.</p>
<p>• ME (Error Medio): Ambos métodos tienen errores medios cercanos a cero, lo que indica que en promedio no están sesgados en sus pronósticos.</p>
<p>• RMSE (Error Cuadrático Medio): El suavizamiento exponencial tiene un RMSE ligeramente más bajo (271.2025) en comparación con Holt-Winters (308.2692). Un RMSE más bajo indica que el suavizamiento exponencial tiene un mejor ajuste a los datos de entrenamiento.</p>
<p>• MAE (Error Absoluto Medio): Similar al RMSE, el suavizamiento exponencial también tiene un MAE más bajo (155.8932) en comparación con Holt-Winters (195.5094). Esto indica que, en promedio, las predicciones del suavizamiento exponencial tienden a desviarse menos de los valores reales que las predicciones de Holt-Winters.</p>
<p>• MPE (Error Porcentual Medio): Ambos métodos tienen valores de MPE cercanos a cero, lo que indica que, en promedio, no hay un sesgo significativo en los pronósticos.</p>
<p>• MAPE (Error Porcentual Absoluto Medio): El suavizamiento exponencial tiene un MAPE ligeramente más bajo (0.4349868) en comparación con Holt-Winters (0.5384692). Un MAPE más bajo indica que el suavizamiento exponencial tiene una precisión porcentualmente mejor en sus predicciones.</p>
<p>• MASE (Error Medio Absoluto Escalado): Similar al MAE, el suavizamiento exponencial tiene un MASE más bajo (0.04096972) en comparación con Holt-Winters (0.05138109). Un MASE más bajo indica que el suavizamiento exponencial tiene una mejor capacidad relativa para predecir la serie temporal en comparación con un método de referencia (generalmente el promedio histórico).</p>
<p>• ACF1 (Autocorrelación de Primer Orden de los Residuos): Ambos métodos muestran valores de autocorrelación cercanos a cero, lo que indica que los residuos no exhiben una autocorrelación significativa.
los resultados sugieren que el suavizamiento exponencial tiene un mejor desempeño en términos de precisión y ajuste a los datos de entrenamiento en comparación con el método de Holt-Winters para esta serie temporal.</p>
<p>Avance 7: Facebook Prophet</p>
<p>El modelo Facebook Prophet es una herramienta de código abierto desarrollada por Facebook para el análisis y pronóstico de series temporales.</p>
<p>Primero cargamos la data.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="avance-4.html#cb51-1" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb51-2"><a href="avance-4.html#cb51-2" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb51-3"><a href="avance-4.html#cb51-3" tabindex="-1"></a></span>
<span id="cb51-4"><a href="avance-4.html#cb51-4" tabindex="-1"></a><span class="co"># Cargar los datos</span></span>
<span id="cb51-5"><a href="avance-4.html#cb51-5" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Gold Price.csv&quot;</span>)</span></code></pre></div>
<p>Ahora nos aseguramos de instalar y cargar el paquete de prophet.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="avance-4.html#cb52-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;prophet&quot;</span>)</span></code></pre></div>
<pre><code>## Error in install.packages : Updating loaded packages</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="avance-4.html#cb54-1" tabindex="-1"></a><span class="fu">library</span>(prophet)</span></code></pre></div>
<p>Procedemos a preparar los datos. Para esto, verificamos el formato de la columna date.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="avance-4.html#cb55-1" tabindex="-1"></a>data<span class="sc">$</span>Date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(data<span class="sc">$</span>Date)</span></code></pre></div>
<p>Ahora procedemos a renombrar las columnas Date y proce dado que prophet los requiere bajo un formato específco.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="avance-4.html#cb56-1" tabindex="-1"></a>df_prophet <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ds =</span> data<span class="sc">$</span>Date, <span class="at">y =</span> data<span class="sc">$</span>Price)</span>
<span id="cb56-2"><a href="avance-4.html#cb56-2" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">prophet</span>(df_prophet)</span></code></pre></div>
<pre><code>## Disabling daily seasonality. Run prophet with daily.seasonality=TRUE to override this.</code></pre>
<p>Veamos la serie de tiempo original.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="avance-4.html#cb58-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb58-2"><a href="avance-4.html#cb58-2" tabindex="-1"></a></span>
<span id="cb58-3"><a href="avance-4.html#cb58-3" tabindex="-1"></a><span class="co"># Suponiendo que `data` es tu dataframe original con las series de tiempo</span></span>
<span id="cb58-4"><a href="avance-4.html#cb58-4" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> Date, <span class="at">y =</span> Price)) <span class="sc">+</span></span>
<span id="cb58-5"><a href="avance-4.html#cb58-5" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb58-6"><a href="avance-4.html#cb58-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Precio&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Serie de Tiempo Original&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-42-1.png" width="672" />
veamos como prophet se ajusta y predice sobre los valores originales</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="avance-4.html#cb59-1" tabindex="-1"></a><span class="fu">library</span>(prophet)</span>
<span id="cb59-2"><a href="avance-4.html#cb59-2" tabindex="-1"></a></span>
<span id="cb59-3"><a href="avance-4.html#cb59-3" tabindex="-1"></a></span>
<span id="cb59-4"><a href="avance-4.html#cb59-4" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">prophet</span>(df_prophet)</span></code></pre></div>
<pre><code>## Disabling daily seasonality. Run prophet with daily.seasonality=TRUE to override this.</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="avance-4.html#cb61-1" tabindex="-1"></a>future <span class="ot">&lt;-</span> <span class="fu">make_future_dataframe</span>(m, <span class="at">periods =</span> <span class="dv">365</span>)</span>
<span id="cb61-2"><a href="avance-4.html#cb61-2" tabindex="-1"></a>forecast <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, future)</span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="avance-4.html#cb62-1" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> <span class="fu">merge</span>(df_prophet, forecast[, <span class="fu">c</span>(<span class="st">&quot;ds&quot;</span>, <span class="st">&quot;yhat&quot;</span>, <span class="st">&quot;yhat_lower&quot;</span>, <span class="st">&quot;yhat_upper&quot;</span>)], <span class="at">by =</span> <span class="st">&quot;ds&quot;</span>, <span class="at">all =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="avance-4.html#cb63-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb63-2"><a href="avance-4.html#cb63-2" tabindex="-1"></a></span>
<span id="cb63-3"><a href="avance-4.html#cb63-3" tabindex="-1"></a><span class="co"># Graficar serie de tiempo original y predicciones</span></span>
<span id="cb63-4"><a href="avance-4.html#cb63-4" tabindex="-1"></a><span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(<span class="at">x =</span> ds)) <span class="sc">+</span></span>
<span id="cb63-5"><a href="avance-4.html#cb63-5" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">color =</span> <span class="st">&quot;Original&quot;</span>)) <span class="sc">+</span>  </span>
<span id="cb63-6"><a href="avance-4.html#cb63-6" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> yhat, <span class="at">color =</span> <span class="st">&quot;Predicción&quot;</span>)) <span class="sc">+</span></span>
<span id="cb63-7"><a href="avance-4.html#cb63-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Precio&quot;</span>, <span class="at">title =</span> <span class="st">&quot;Serie de Tiempo Original con Predicciones de Prophet&quot;</span>) <span class="sc">+</span></span>
<span id="cb63-8"><a href="avance-4.html#cb63-8" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Original&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;Predicción&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb63-9"><a href="avance-4.html#cb63-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 365 rows containing missing values or values outside the scale range
## (`geom_line()`).</code></pre>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-45-1.png" width="672" />
En general, es claro que el prophet predice bastante bien sobre los valores reales, no obstante procedemos a calcular métricas de precisión</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="avance-4.html#cb65-1" tabindex="-1"></a>mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(forecast<span class="sc">$</span>yhat <span class="sc">-</span> df_prophet<span class="sc">$</span>y))</span></code></pre></div>
<pre><code>## Warning in forecast$yhat - df_prophet$y: longer object length is not a multiple of shorter
## object length</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="avance-4.html#cb67-1" tabindex="-1"></a>rmse <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((forecast<span class="sc">$</span>yhat <span class="sc">-</span> df_prophet<span class="sc">$</span>y)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
<pre><code>## Warning in forecast$yhat - df_prophet$y: longer object length is not a multiple of shorter
## object length</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="avance-4.html#cb69-1" tabindex="-1"></a>mape <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>((df_prophet<span class="sc">$</span>y <span class="sc">-</span> forecast<span class="sc">$</span>yhat) <span class="sc">/</span> df_prophet<span class="sc">$</span>y)) <span class="sc">*</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## Warning in df_prophet$y - forecast$yhat: longer object length is not a multiple of shorter
## object length</code></pre>
<pre><code>## Warning in (df_prophet$y - forecast$yhat)/df_prophet$y: longer object length is not a multiple
## of shorter object length</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="avance-4.html#cb72-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;MAE:&quot;</span>, mae, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## MAE: 3956.107</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="avance-4.html#cb74-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;RMSE:&quot;</span>, rmse, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## RMSE: 8746.385</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="avance-4.html#cb76-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;MAPE:&quot;</span>, mape, <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## MAPE: 13.69306 %</code></pre>
<p>MAPE de aproximadamente 13.69306 % indica que las predicciones del modelo Prophet tienen un error absoluto promedio del 13.69306 % respecto a los valores reales. Es una medida relativa que proporciona una perspectiva sobre la magnitud del error en relación con el tamaño de los valores reales. En conclusión el modelo presenta una precisión “decente”</p>
<p>Una vez ajustado y evaluado el prophet podemos proceder a realizar una predicción sobre 12 años.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="avance-4.html#cb78-1" tabindex="-1"></a>future <span class="ot">&lt;-</span> <span class="fu">make_future_dataframe</span>(m, <span class="at">periods =</span> <span class="dv">12</span> <span class="sc">*</span> <span class="dv">12</span>, <span class="at">freq =</span> <span class="st">&quot;month&quot;</span>)</span>
<span id="cb78-2"><a href="avance-4.html#cb78-2" tabindex="-1"></a>forecast <span class="ot">&lt;-</span> <span class="fu">predict</span>(m, future)</span></code></pre></div>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="avance-4.html#cb79-1" tabindex="-1"></a><span class="fu">plot</span>(m, forecast)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-48-1.png" width="672" /></p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="avance-4.html#cb80-1" tabindex="-1"></a>predicted_values <span class="ot">&lt;-</span> forecast<span class="sc">$</span>yhat</span>
<span id="cb80-2"><a href="avance-4.html#cb80-2" tabindex="-1"></a></span>
<span id="cb80-3"><a href="avance-4.html#cb80-3" tabindex="-1"></a><span class="co"># Calcular MAE, RMSE y MAPE</span></span>
<span id="cb80-4"><a href="avance-4.html#cb80-4" tabindex="-1"></a>mae <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(predicted_values <span class="sc">-</span> df_prophet<span class="sc">$</span>y))</span></code></pre></div>
<pre><code>## Warning in predicted_values - df_prophet$y: longer object length is not a multiple of shorter
## object length</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="avance-4.html#cb82-1" tabindex="-1"></a>rmse <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">mean</span>((predicted_values <span class="sc">-</span> df_prophet<span class="sc">$</span>y)<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
<pre><code>## Warning in predicted_values - df_prophet$y: longer object length is not a multiple of shorter
## object length</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="avance-4.html#cb84-1" tabindex="-1"></a>mape <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>((df_prophet<span class="sc">$</span>y <span class="sc">-</span> predicted_values) <span class="sc">/</span> df_prophet<span class="sc">$</span>y)) <span class="sc">*</span> <span class="dv">100</span></span></code></pre></div>
<pre><code>## Warning in df_prophet$y - predicted_values: longer object length is not a multiple of shorter
## object length</code></pre>
<pre><code>## Warning in (df_prophet$y - predicted_values)/df_prophet$y: longer object length is not a
## multiple of shorter object length</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="avance-4.html#cb87-1" tabindex="-1"></a><span class="co"># Imprimir métricas</span></span>
<span id="cb87-2"><a href="avance-4.html#cb87-2" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;MAE:&quot;</span>, mae, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## MAE: 2566.707</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="avance-4.html#cb89-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;RMSE:&quot;</span>, rmse, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## RMSE: 7500.98</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="avance-4.html#cb91-1" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;MAPE:&quot;</span>, mape, <span class="st">&quot;%</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## MAPE: 8.330445 %</code></pre>
<p>En general la predicción presenta métricas “buenas” podemos ver que este algoritmo es fácil de usar y permite generar rápidamente predicciones que difieren de la típica regresión lineal estándar. Además es especialmente diseñada para predecir sobre intervalos temporales lo cual le da un valor agregado. Las predicciones, presentan un MAPE inferior a 14&gt;% en general lo cual podría ser considerado un “éxito”.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="propuesta-avance-2-3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="avance-5-arima.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/SantiagoReyes1994/PrecioDelOro/edit/main/Capitulo-3.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/SantiagoReyes1994/PrecioDelOro/blob/main/Capitulo-3.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
